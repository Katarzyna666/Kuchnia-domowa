<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Książka kucharska</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"/>

</head>
<body>
<div class="banner">
    <h1>Książka kucharska</h1>
</div>


<div>
    <a href="/recipe/add">Dodaj nowy przepis</a><br/>
    <a href="/allRecipies">Wyświetl wszystkie przepisy</a><br/>

</div>

<h2>Dodaj przepis</h2>

<form method="post" th:action="@{/recipe/save}" th:object="${recipe}">
    <input type="number" hidden th:field="*{id}"/>
    <input type="text" th:field="*{name}" placeholder="nazwa przepisu"/><br/>
    <textarea rows="5" th:field="*{description}" placeholder="wykonanie przepisu"></textarea><br/>
    <input type="text" th:field="*{url}" placeholder="dodaj url zdjęcia"/><br/>
    <select th:field="*{category}" placeholder="dodaj kategorię">
        <option th:each="category: ${T(org.javastart.homework29.model.Category).values()}"
                th:text="${category.displayName}"
                th:value="${category.name()}">

        </option>
    </select><br/>

    <table>
        <thead>
        <tr>
            <th> Nazwa składnika</th>
            <th> Ilość</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="ingredient, itemStat : *{ingredients}">
            <td><input hidden th:field="*{ingredients[__${itemStat.index}__].id}"/></td>
            <td><input th:field="*{ingredients[__${itemStat.index}__].name}"/></td>
            <td><input th:field="*{ingredients[__${itemStat.index}__].amount}"/></td>
        </tr>
        </tbody>
    </table>
    <input type="submit" value="Dodaj przepis"/>

</form>


</body>
</html>